window.OnePebbleApp={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";window.searchCache||(window.searchCache=[])}},$(document).ready(function(){"use strict";OnePebbleApp.init()}),this["JST"] = this["JST"] || {};
this["JST"]["app/scripts/templates/fund.ejs"] = function(obj) {
    obj || (obj = {});
    var __t, __p = '', __e = _.escape, __j = Array.prototype.join;
    function print() { __p += __j.call(arguments, '') }
    with (obj) {
        __p += '<nav class="subpage">\n    <div class="nav-wrapper">\n    </div>\n</nav>\n<div class="bg-image">\n    <div class="container fund">\n        <div class="row header-row">\n            <div class="col s12 center-align">\n                <div class="row">\n                    <!-- JST data.fund.fund -->\n                    <h3 class="fund-name center-align">' +
            ((__t = ( fund.fund )) == null ? '' : __t) +
            '</h3>\n                </div>\n                <div class="row">\n                    <h5 class="btn center-align fund-ticker"><span class="bold">' +
            ((__t = ( ticker )) == null ? '' : __t) +
            '</span></h5>\n                </div>\n            </div>\n        </div>\n\n        <div class="card-panel gunstocks overview">\n            <div class="card-content">\n                <!-- JST data.fund.categoryData -->\n                <div class="row">\n\n                    <div class="col s12 m6 l3">\n                        <div class="card hoverable ' +
            ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
            '" data-id="' +
            ((__t = ( fund.ticker )) == null ? '' : __t) +
            '">\n                            <div class="card-bg">\n                                <h6 class="card-title ticker btn white">' +
            ((__t = ( fund.ticker )) == null ? '' : __t) +
            '</h6>\n                                <div class="metals">\n                                    <img class="metal" src="/images/metals/' +
            ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
            '.png" alt="' +
            ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
            '" class="' +
            ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
            '" />\n                                </div>\n                                <!--<h5 class="fund-name">' +
            ((__t = ( fund.fund )) == null ? '' : __t) +
            '</h5>-->\n                                <!--<p class="fund-type center-align">-->\n                                <!--' +
            ((__t = ( fund.fundBasics.segment )) == null ? '' : __t) +
            '-->\n                                <!--</p>-->\n                            </div>\n                            <div class="card-content center">\n                                <h2 class="card-percentage center-align">\n                                    <span class="bold">' +
            ((__t = ( fund.sinStocks.total && fund.sinStocks.total.allocationPercent ? fund.sinStocks.total.allocationAbsolutePercent : 'gold' )) == null ? '' : __t) +
            '</span>\n                                </h2>\n                                <h5 class="card-percentage-description">in stocks ' +
            ((__t = ( fund.sinStocks.total.allocationNum < 0 ? 'supporting' : 'against' )) == null ? '' : __t) +
            ' your values</h5>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col s12 m6 l9">\n                        <h5 class="h55"><span class="bold">' +
            ((__t = ( ticker )) == null ? '' : __t) +
            '</span> receives <span class="bold">' +
            ((__t = ( fund.sinStocks.total.metal !== 'none' ? fund.sinStocks.total.metal : 'no' )) == null ? '' : __t) +
            '</span> ranking. The fund is comprised from <span class="bold">' +
            ((__t = ( fund.companyAllocation.length ? fund.companyAllocation.length + ' total' : 'numerous' )) == null ? '' : __t) +
            '</span> company allocations, <span class="bold">' +
            ((__t = ( fund.sinStocks.total.allocationCount )) == null ? '' : __t) +
            '</span> of which ' +
            ((__t = ( fund.sinStocks.total.allocationNum < 0 ? 'support' : 'are against' )) == null ? '' : __t) +
            ' your values.</h5>\n                        <h5>Of the total <span class="bold">$' +
            ((__t = ( fund.sinStocks.total.aumFormated )) == null ? '' : __t) +
            '</span> under management, a total of <span class="bold">$' +
            ((__t = ( fund.sinStocks.total.totalSinfulAumFormated )) == null ? '' : __t) +
            '</span> or <span class="bold">' +
            ((__t = ( fund.sinStocks.total.allocationAbsolutePercent )) == null ? '' : __t) +
            '</span> are going towards companies ' +
            ((__t = ( fund.sinStocks.total.allocationNum < 0 ? 'supporting' : 'against' )) == null ? '' : __t) +
            ' your values.</h5>\n                    </div>\n                    <div class="col s12 m6 l4">\n                        <br><br>\n                        <button class="waves-effect waves-light btn red darken-1 see-alt-funds">See Alternative Funds</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="col s12">\n            <h4 class="section-title">Fund Metrics</h4>\n        </div>\n        <div class="card-panel sticky-action">\n            <div class="card-content">\n\n                <div class="row">\n                    <!-- JST data.fund.categoryData -->\n                    ';
        _.each(fund.categoryData, function(data, index, list) { ;
            __p += '\n                    <div class="col s6 m4 l2 center-align">\n                        <i class="material-icons icons ' +
                ((__t = ( index + ' ' + data.level )) == null ? '' : __t) +
                '">' +
                ((__t = ( index )) == null ? '' : __t) +
                '</i>\n                        <p class="fund-metrics">' +
                ((__t = ( data.name )) == null ? '' : __t) +
                '</p>\n                        <div class="tip center-align" data-tip="' +
                ((__t = ( data.description )) == null ? '' : __t) +
                '">\n                            <i class="material-icons">info</i>\n                        </div>\n                    </div>\n                    ';
        }) ;
        __p += '\n                </div>\n            </div>\n        </div>\n\n        <div class="row category-filter">\n            <div class="col s12">\n                <h4 class="section-title">Alternate Funds</h4>\n                <h5 class="section-description">Find similar funds to this ETF.</h5>\n            </div>\n        </div>\n\n        <div class="carousel fund-detail-carousel">\n            <div class="carousel-item">\n                <div class="card hoverable gold" data-id="BND">\n                    <div class="card-bg">\n                        <h6 class="card-title ticker btn white">BND</h6>\n                        <div class="metals">\n                            <img class="metal" src="/images/metals/gold.png" alt="gold">\n                        </div>\n                    </div>\n                    <div class="card-content center">\n                        <h2 class="card-percentage center-align">\n                            <span class="bold">0.00%</span>\n                        </h2>\n                        <h5 class="card-percentage-description">in stocks against your values</h5>\n                    </div>\n                </div>\n            </div>\n            <div class="carousel-item">\n                <div class="card hoverable gold" data-id="BND">\n                    <div class="card-bg">\n                        <h6 class="card-title ticker btn white">BND</h6>\n                        <div class="metals">\n                            <img class="metal" src="/images/metals/gold.png" alt="gold">\n                        </div>\n                    </div>\n                    <div class="card-content center">\n                        <h2 class="card-percentage center-align">\n                            <span class="bold">0.00%</span>\n                        </h2>\n                        <h5 class="card-percentage-description">in stocks against your values</h5>\n                    </div>\n                </div>\n            </div>\n            <div class="carousel-item">\n                <div class="card hoverable silver" data-id="BNDS">\n                    <div class="card-bg">\n                        <h6 class="card-title ticker btn white">BNDS</h6>\n                        <div class="metals">\n                            <img class="metal" src="/images/metals/silver.png" alt="silver">\n                        </div>\n                    </div>\n                    <div class="card-content center">\n                        <h2 class="card-percentage center-align">\n                            <span class="bold">0.29%</span>\n                        </h2>\n                        <h5 class="card-percentage-description">in stocks against your values</h5>\n                    </div>\n                </div>\n            </div>\n            <div class="carousel-item">\n                <div class="card hoverable bronze" data-id="BIV">\n                    <div class="card-bg">\n                        <h6 class="card-title ticker btn white">BIV</h6>\n                        <div class="metals">\n                            <img class="metal" src="/images/metals/bronze.png" alt="bronze">\n                        </div>\n                    </div>\n                    <div class="card-content center">\n                        <h2 class="card-percentage center-align">\n                            <span class="bold">1.28%</span>\n                        </h2>\n                        <h5 class="card-percentage-description">in stocks against your values</h5>\n                    </div>\n                </div>\n            </div>\n            <div class="carousel-item">\n                <div class="card hoverable none" data-id="VYM">\n                    <div class="card-bg">\n                        <h6 class="card-title ticker btn white">VYM</h6>\n                        <div class="metals">\n                            <img class="metal" src="/images/metals/none.png" alt="none">\n                        </div>\n                    </div>\n                    <div class="card-content center">\n                        <h2 class="card-percentage center-align">\n                            <span class="bold">8.43%</span>\n                        </h2>\n                        <h5 class="card-percentage-description">in stocks against your values</h5>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="col s12 center">\n            <h5 class="section-description">Find alternative funds and customize your results.</h5>\n            <button class="waves-effect waves-light btn red darken-1 see-alt-funds">See Alternative Funds</button><br><br><br>\n        </div>\n    </div>\n</div>\n';

    }
    return __p
};

this["JST"]["app/scripts/templates/funds.ejs"] = function(obj) {
    obj || (obj = {});
    var __t, __p = '', __e = _.escape, __j = Array.prototype.join;
    function print() { __p += __j.call(arguments, '') }
    with (obj) {
        __p += '<header class="filter">\n    <div id="spinner">\n        <div class="preloader-wrapper big active">\n            <div class="spinner-layer spinner-blue">\n                <div class="circle-clipper left">\n                    <div class="circle"></div>\n                </div>\n                <div class="gap-patch">\n                    <div class="circle"></div>\n                </div>\n                <div class="circle-clipper right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n\n            <div class="spinner-layer spinner-red">\n                <div class="circle-clipper left">\n                    <div class="circle"></div>\n                </div>\n                <div class="gap-patch">\n                    <div class="circle"></div>\n                </div>\n                <div class="circle-clipper right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n\n            <div class="spinner-layer spinner-yellow">\n                <div class="circle-clipper left">\n                    <div class="circle"></div>\n                </div>\n                <div class="gap-patch">\n                    <div class="circle"></div>\n                </div>\n                <div class="circle-clipper right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n\n            <div class="spinner-layer spinner-green">\n                <div class="circle-clipper left">\n                    <div class="circle"></div>\n                </div>\n                <div class="gap-patch">\n                    <div class="circle"></div>\n                </div>\n                <div class="circle-clipper right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <form>\n        <ul id="slide-out" class="side-nav fixed">\n            <li class="logo-container">\n                <img width="100%" src="/images/OnePebble_Logo-marine-horizontal.png" alt="One Pebble"><span class="beta">BETA</span>\n                <i class="material-icons sidenav-close close">close</i>\n            </li>\n            <li class="filter-col">\n                <ul>\n                    <li class="row">\n                        <p class="col s3">Values</p>\n                        <div class="col s8 ranger">\n                            <p class="values-category">\n                                <input type="checkbox" class="filled-in" id="guns-check" />\n                                <label for="guns-check">Guns/Ammo</label>\n                                <span class="supported green-text">(Supported)</span>\n                                <span class="against red-text">(Divested)</span>\n                            </p>\n                            <p class="values-category">\n                                <input type="checkbox" class="filled-in" id="gambling-check" />\n                                <label for="gambling-check">Gambling</label>\n                                <span class="supported green-text">(Supported)</span>\n                                <span class="against red-text">(Divested)</span>\n                            </p>\n                            <p class="values-category">\n                                <input type="checkbox" class="filled-in" id="porn-check" />\n                                <label for="porn-check">Pornography</label>\n                                <span class="supported green-text">(Supported)</span>\n                                <span class="against red-text">(Divested)</span>\n                            </p>\n                            <p class="values-category">\n                                <input type="checkbox" class="filled-in" id="tobacco-check" />\n                                <label for="tobacco-check">Tobacco</label>\n                                <span class="supported green-text">(Supported)</span>\n                                <span class="against red-text">(Divested)</span>\n                            </p>\n                            <p class="values-category">\n                                <input type="checkbox" class="filled-in" id="ff-check" />\n                                <label for="ff-check">Fossil Fuel</label>\n                                <span class="supported green-text">(Supported)</span>\n                                <span class="against red-text">(Divested)</span>\n                            </p>\n                            <p class="values-category">\n                                <input type="checkbox" class="filled-in" id="alcohol-check" />\n                                <label for="alcohol-check">Alcohol</label>\n                                <span class="supported green-text">(Supported)</span>\n                                <span class="against red-text">(Divested)</span>\n                            </p>\n                        </div>\n                    </li>\n                    <li class="row">\n                        <p class="col s3">Fund Size</p>\n                        <div class="col s8 ranger">\n                            <div id="fund-size-slider"></div>\n                            <span class="range-val left" id="fund-size-lower"></span>\n                            <span class="range-val right" id="fund-size-upper"></span>\n                        </div>\n                    </li>\n                    <li class="row">\n                        <p class="col s3">Expenses</p>\n                        <div class="col s8 ranger">\n                            <div id="expense-slider"></div>\n                            <span class="range-val left" id="expense-lower"></span>\n                            <span class="range-val right" id="expense-upper"></span>\n                        </div>\n\n                    </li>\n                    <li class="row">\n                        <p class="col s3">5Y Returns</p>\n                        <div class="col s8 ranger">\n                            <div id="returns-slider"></div>\n                            <span class="range-val left" id="returns-lower"></span>\n                            <span class="range-val right" id="returns-upper"></span>\n                        </div>\n                    </li>\n                    <li class="row no-marg">\n                        <p class="col s3">Dividends</p>\n                        <div class="col s8 ranger">\n                            <div id="dividend-slider"></div>\n                            <span class="range-val left" id="dividend-lower"></span>\n                            <span class="range-val right" id="dividend-upper"></span>\n                        </div>\n                    </li>\n                    <li class="row no-marg">\n                        <p class="col s3">Category</p>\n                        <div class="col s7 input-field category-select">\n                            <select id="category-dd">\n                                <option value="all" selected>All</option>\n                                <option value="Size and Style">Size and Style</option>\n                                <option value="Broad Market">Broad Market</option>\n                                <option value="U.S. Government">U.S. Government</option>\n                                <option value="Sector">Sector</option>\n                                <option value="Asset Allocation">Asset Allocation</option>\n                                <option value="Corporate">Corporate</option>\n                                <option value="Taxable Municipals">Taxable Municipals</option>\n                                <option value="Government/Credit">Government/Credit</option>\n                                <option value="Tactical Tools">Tactical Tools</option>\n                                <option value="Absolute Returns">Absolute Returns</option>\n                                <option value="Municipals">Municipals</option>\n                                <option value="High Dividend Yield">High Dividend Yield</option>\n                            </select>\n                        </div>\n                    </li>\n                    <li class="row no-marg">\n                        <p class="col s3">Focus</p>\n                        <div class="col s7 input-field">\n                            <select id="focus-dd">\n                                <option value="all" selected>All</option>\n                                <option value="Large Cap">Large Cap</option>\n                                <option value="Total Market">Total Market</option>\n                                <option value="Investment Grade">Investment Grade</option>\n                                <option value="Broad Market">Broad Market</option>\n                                <option value="Agencies">Agencies</option>\n                                <option value="Industrials">Industrials</option>\n                                <option value="Energy">Energy</option>\n                                <option value="Target Outcome">Target Outcome</option>\n                                <option value="High Yield">High Yield</option>\n                                <option value="Health Care">Health Care</option>\n                                <option value="Financials">Financials</option>\n                                <option value="Treasury">Treasury</option>\n                                <option value="Spreads">Spreads</option>\n                                <option value="Long/Short">Long/Short</option>\n                                <option value="Small Cap">Small Cap</option>\n                                <option value="Consumer Cyclicals">Consumer Cyclicals</option>\n                                <option value="Asset-backed">Asset-backed</option>\n                                <option value="Consumer Non-cyclicals">Consumer Non-cyclicals</option>\n                                <option value="Convertibles">Convertibles</option>\n                                <option value="Mid Cap">Mid Cap</option>\n                                <option value="High Dividend Yield">High Dividend Yield</option>\n                                <option value="Real Estate">Real Estate</option>\n                                <option value="Preferred Stock">Preferred Stock</option>\n                                <option value="Telecommunications">Telecommunications</option>\n                                <option value="Micro Cap">Micro Cap</option>\n                                <option value="Technology">Technology</option>\n                                <option value="Theme">Theme</option>\n                                <option value="Basic Materials">Basic Materials</option>\n                                <option value="Utilities">Utilities</option>\n                                <option value="Agency MBS">Agency MBS</option>\n                                <option value="Global Macro">Global Macro</option>\n                                <option value="TIPS">TIPS</option>\n                                <option value="Extended Market">Extended Market</option>\n                                <option value="Volatility">Volatility</option>\n                                <option value="VRDO">VRDO</option>\n                            </select>\n                        </div>\n                    </li>\n                    <li class="row no-marg">\n                        <p class="col s3">Niche</p>\n                        <div class="col s7 input-field">\n                            <select id="niche-dd">\n                                <option value="all" selected>All</option>\n                                <option value="Broad-based">Broad-based</option>\n                                <option value="Broad Maturities">Broad Maturities</option>\n                                <option value="MLPs">MLPs</option>\n                                <option value="Income">Income</option>\n                                <option value="Short-Term">Short-Term</option>\n                                <option value="Biotech">Biotech</option>\n                                <option value="Private Equity">Private Equity</option>\n                                <option value="Capital Appreciation">Capital Appreciation</option>\n                                <option value="Ultra-Short Term">Ultra-Short Term</option>\n                                <option value="Intermediate">Intermediate</option>\n                                <option value="Floating Rate">Floating Rate</option>\n                                <option value="Long-Term">Long-Term</option>\n                                <option value="Long/Short Volatility">Long/Short Volatility</option>\n                                <option value="Long/Short Equity">Long/Short Equity</option>\n                                <option value="Homebuilding">Homebuilding</option>\n                                <option value="Aerospace & Defense">Aerospace & Defense</option>\n                                <option value="Banks">Banks</option>\n                                <option value="Oil & Gas Exploration & Production">Oil & Gas Exploration & Production</option>\n                                <option value="Value">Value</option>\n                                <option value="Growth">Growth</option>\n                                <option value="Natural Gas">Natural Gas</option>\n                                <option value="Internet">Internet</option>\n                                <option value="Water">Water</option>\n                                <option value="Yield Curve">Yield Curve</option>\n                                <option value="Retail">Retail</option>\n                                <option value="Food and Beverage">Food and Beverage</option>\n                                <option value="Pharmaceuticals">Pharmaceuticals</option>\n                                <option value="Semiconductors">Semiconductors</option>\n                                <option value="Oil & Gas">Oil & Gas</option>\n                                <option value="Transportation">Transportation</option>\n                                <option value="Tactical Asset Allocation">Tactical Asset Allocation</option>\n                                <option value="Banking and Investment Services">Banking and Investment Services</option>\n                                <option value="Insurance">Insurance</option>\n                                <option value="Oil & Gas Equipment & Services">Oil & Gas Equipment & Services</option>\n                                <option value="Health Care Providers & Services">Health Care Providers & Services</option>\n                                <option value="Health Care Equipment & Supplies">Health Care Equipment & Supplies</option>\n                                <option value="S&P 500 Short-Term">S&P 500 Short-Term</option>\n                                <option value="Financial Services">Financial Services</option>\n                                <option value="Restaurants & Bars">Restaurants & Bars</option>\n                                <option value="Mortgages">Mortgages</option>\n                                <option value="Infrastructure">Infrastructure</option>\n                                <option value="Media & Publishing">Media & Publishing</option>\n                                <option value="Leisure & Recreation">Leisure & Recreation</option>\n                                <option value="Construction & Engineering">Construction & Engineering</option>\n                                <option value="Software">Software</option>\n                                <option value="Renewable Energy">Renewable Energy</option>\n                                <option value="Inflation">Inflation</option>\n                                <option value="S&P 500 Mid-Term">S&P 500 Mid-Term</option>\n                                <option value="Metals & Mining">Metals & Mining</option>\n                                <option value="Technology Equipment">Technology Equipment</option>\n                                <option value="Trend-Following">Trend-Following</option>\n                            </select>\n                        </div>\n                    </li>\n                    <li class="row no-marg">\n                        <p class="col s3">Brand</p>\n                        <div class="col s7 input-field">\n                            <select id="brand-dd">\n                                <option value="all" selected>All</option>\n                                <option value="ACSI Funds">ACSI Funds</option>\n                                <option value="Global X">Global X</option>\n                                <option value="iShares">iShares</option>\n                                <option value="IndexIQ">IndexIQ</option>\n                                <option value="WisdomTree">WisdomTree</option>\n                                <option value="First Trust">First Trust</option>\n                                <option value="AlphaClone">AlphaClone</option>\n                                <option value="JPMorgan">JPMorgan</option>\n                                <option value="Credit Suisse">Credit Suisse</option>\n                                <option value="Alerian">Alerian</option>\n                                <option value="Amplify">Amplify</option>\n                                <option value="ETRACS">ETRACS</option>\n                                <option value="InfraCap">InfraCap</option>\n                                <option value="VanEck">VanEck</option>\n                                <option value="ArrowShares">ArrowShares</option>\n                                <option value="Barclays Capital">Barclays Capital</option>\n                                <option value="PowerShares">PowerShares</option>\n                                <option value="BioShares">BioShares</option>\n                                <option value="Aptus">Aptus</option>\n                                <option value="ALPS">ALPS</option>\n                                <option value="ProShares">ProShares</option>\n                                <option value="SPDR">SPDR</option>\n                                <option value="Vanguard">Vanguard</option>\n                                <option value="BMO">BMO</option>\n                                <option value="FlexShares">FlexShares</option>\n                                <option value="Guggenheim">Guggenheim</option>\n                                <option value="VelocityShares">VelocityShares</option>\n                                <option value="QuantShares">QuantShares</option>\n                                <option value="Principal">Principal</option>\n                                <option value="Exponential">Exponential</option>\n                                <option value="iPath">iPath</option>\n                                <option value="Pacer">Pacer</option>\n                                <option value="Cambria">Cambria</option>\n                                <option value="VictoryShares">VictoryShares</option>\n                                <option value="Direxion">Direxion</option>\n                                <option value="Loncar">Loncar</option>\n                                <option value="PIMCO">PIMCO</option>\n                                <option value="Virtus">Virtus</option>\n                                <option value="AdvisorShares">AdvisorShares</option>\n                                <option value="Deutsche X-trackers">Deutsche X-trackers</option>\n                                <option value="Reality Shares">Reality Shares</option>\n                                <option value="Diamond Hill">Diamond Hill</option>\n                                <option value="C-Tracks">C-Tracks</option>\n                                <option value="ELEMENTS">ELEMENTS</option>\n                                <option value="Davis">Davis</option>\n                                <option value="TMW Funds">TMW Funds</option>\n                                <option value="Elkhorn">Elkhorn</option>\n                                <option value="Oppenheimer">Oppenheimer</option>\n                                <option value="Columbia">Columbia</option>\n                                <option value="Etho">Etho</option>\n                                <option value="UBS">UBS</option>\n                                <option value="Fidelity">Fidelity</option>\n                                <option value="FormulaFolios">FormulaFolios</option>\n                                <option value="WeatherStorm">WeatherStorm</option>\n                                <option value="Franklin">Franklin</option>\n                                <option value="Schwab">Schwab</option>\n                                <option value="Goldman Sachs">Goldman Sachs</option>\n                                <option value="Hartford">Hartford</option>\n                                <option value="Horizons">Horizons</option>\n                                <option value="Hull">Hull</option>\n                                <option value="Strategy Shares">Strategy Shares</option>\n                                <option value="Inspire">Inspire</option>\n                                <option value="SerenityShares">SerenityShares</option>\n                                <option value="Renaissance">Renaissance</option>\n                                <option value="John Hancock">John Hancock</option>\n                                <option value="Janus Henderson">Janus Henderson</option>\n                                <option value="Legg Mason">Legg Mason</option>\n                                <option value="USCF Advisers">USCF Advisers</option>\n                                <option value="Morgan Stanley">Morgan Stanley</option>\n                                <option value="LocalShares">LocalShares</option>\n                                <option value="NuShares">NuShares</option>\n                                <option value="O\'Shares">O\'Shares</option>\n                                <option value="iSectors">iSectors</option>\n                                <option value="Alpha Architect">Alpha Architect</option>\n                                <option value="RiverFront">RiverFront</option>\n                                <option value="Sit">Sit</option>\n                                <option value="Highland">Highland</option>\n                                <option value="TETF">TETF</option>\n                                <option value="Tortoise">Tortoise</option>\n                                <option value="TrimTabs">TrimTabs</option>\n                                <option value="Tuttle">Tuttle</option>\n                                <option value="Reaves">Reaves</option>\n                                <option value="Vident">Vident</option>\n                                <option value="REX">REX</option>\n                                <option value="WBI Shares">WBI Shares</option>\n                                <option value="QuantX">QuantX</option>\n                            </select>\n                        </div>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n    </form>\n</header>\n<div class="cards-container">\n    <div class="row">\n        <nav class="subpage col s12">\n            <div class="nav-wrapper">\n\n            </div>\n        </nav>\n        <div class="col s12 cards-col"> <!-- Note that "m8 l9" was added -->\n\n            <div class="col s12 cards-list-header">\n                <!-- JST data.funds.length -->\n                <h6>' +
            ((__t = ( funds.length )) == null ? '' : __t) +
            ' Funds Found</h6>\n            </div>\n            <!--<div class="col s6 right-align">\n                <ul class="pagination tiddy-bottom">\n                    <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>\n                    <li class="active"><a href="#!">1</a></li>\n                    <li class="waves-effect"><a href="#!">2</a></li>\n                    <li class="waves-effect"><a href="#!">3</a></li>\n                    <li class="waves-effect"><a href="#!">4</a></li>\n                    <li class="waves-effect"><a href="#!">5</a></li>\n                    <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>\n                </ul>\n            </div>-->\n            <ul class="card-list">\n                <!-- JST data.funds -->\n                ';
        _.each(funds, function(fund, i) { ;
            __p += '\n                <li class="card-wrapper">\n                    <div class="card hoverable ' +
                ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
                '" data-id="' +
                ((__t = ( fund.ticker )) == null ? '' : __t) +
                '">\n                        <div class="card-bg">\n                            <h6 class="card-title ticker btn white">' +
                ((__t = ( fund.ticker )) == null ? '' : __t) +
                '</h6>\n                            <div class="metals">\n                                <img class="metal" src="/images/metals/' +
                ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
                '.png" alt="' +
                ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'gold' )) == null ? '' : __t) +
                '" class="' +
                ((__t = ( fund.sinStocks.total && fund.sinStocks.total.metal ? fund.sinStocks.total.metal : 'no-metal' )) == null ? '' : __t) +
                '" />\n                            </div>\n                            <!--<h5 class="fund-name">' +
                ((__t = ( fund.fund )) == null ? '' : __t) +
                '</h5>-->\n                            <!--<p class="fund-type center-align">-->\n                               <!--' +
                ((__t = ( fund.fundBasics.segment )) == null ? '' : __t) +
                '-->\n                            <!--</p>-->\n                        </div>\n                        <div class="card-content center">\n                            <h2 class="card-percentage center-align">\n                                <span class="bold">' +
                ((__t = ( fund.sinStocks.total && fund.sinStocks.total.allocationPercent ? fund.sinStocks.total.allocationPercent : '0.0%' )) == null ? '' : __t) +
                '</span>\n                            </h2>\n                            <h5 class="card-percentage-description">in stocks against your values</h5>\n\n\n                            <!-- OLD CARD DATA-->\n                            <!-- ------------ -->\n                            <!-- ------------ -->\n\n                            <!--';
            if (fund.sinStocks.hasGunsStocks) { ;
                __p += '-->\n                                <!--<i class="material-icons clear left">clear</i><h5>Has Gun Stock</h5>-->\n                            <!--';
            } else { ;
                __p += '-->\n                                <!--<i class="material-icons check left">check</i><h5>Gun-free Stock</h5>-->\n                            <!--';
            } ;
            __p += '-->\n                            <!--&lt;!&ndash;<p><i class="material-icons trending_up">trending_up</i>' +
                ((__t = ( fund.analysis.fundClosureRisk )) == null ? '' : __t) +
                '</p>&ndash;&gt;-->\n                                <!--<i class="material-icons timeline left">timeline</i><h5>' +
                ((__t = ( fund.analysis.fundClosureRisk )) == null ? '' : __t) +
                ' Risk</h5>-->\n\n                            <!-- ------------ -->\n                            <!-- ------------ -->\n                            <!-- OLD CARD DATA-->\n\n\n                        </div>\n                    </div>\n                </li>\n                ';
        }) ;
        __p += '\n            </ul>\n        </div>\n    </div>\n</div>';

    }
    return __p
};

this["JST"]["app/scripts/templates/login.ejs"] = function(obj) {
    obj || (obj = {});
    var __t, __p = '', __e = _.escape;
    with (obj) {
        __p += '<div class="logo-container center">\n    <img width="100%" src="/images/OnePebble_Logo-marine-horizontal.png" alt="One Pebble" class="logo"><span class="beta">BETA</span>\n</div>\n\n\n<div class="row powerful-tool">\n    <div class="col s12">\n        <h4 class="section-title">Is your fund <span class="no-category-animation">gun</span><span class="category-animation">gun|alcohol|tobacco|porn|fossil fuel|gambling</span> free? Let’s find out.</h4>\n    </div>\n    <div class="col s12">\n        <h5 class="section-description">Invest and Divest Wisely - Filter funds that match your values.</h5>\n    </div>\n</div>\n\n<nav class="password">\n    <div class="nav-wrapper">\n        <form action="/login" autocomplete="off">\n            <div class="input-field op-input">\n                <input id="password" type="password" class="onepebble-primary" placeholder="Enter Password" required>\n                <a class="waves-effect waves-light btn onepebble-highlight password-enter">Enter</a>\n            </div>\n        </form>\n    </div>\n</nav>\n';

    }
    return __p
};

this["JST"]["app/scripts/templates/questions.ejs"] = function(obj) {
    obj || (obj = {});
    var __t, __p = '', __e = _.escape, __j = Array.prototype.join;
    function print() { __p += __j.call(arguments, '') }
    with (obj) {
        __p += '<button class="btn waves-effect waves-light onepebble-secondary exit">Exit</button>\n<div id="questionnaire" class="container carousel carousel-slider" data-indicators="true">\n    ';
        _.each(questions, function(question) { ;
            __p += '\n        <div class="carousel-item" href="#' +
                ((__t = ( question.number )) == null ? '' : __t) +
                '!" id="question-' +
                ((__t = ( question.numeric_num )) == null ? '' : __t) +
                '">\n            <!--<div class="row">-->\n                <!--<div class="col s12">-->\n                    <!--<div class="progress">-->\n                        <!--<div class="determinate" style="width: ' +
                ((__t = ( 100*(question.numeric_num/questions.length) )) == null ? '' : __t) +
                '%"></div>-->\n                    <!--</div>-->\n                <!--</div>-->\n            <!--</div>-->\n            <div class="row">\n                <div class="col s12 m6 l3 progress-title">\n                    <p>Question ' +
                ((__t = ( question.numeric_num )) == null ? '' : __t) +
                '/' +
                ((__t = ( questions.length )) == null ? '' : __t) +
                '</p>\n                </div>\n                <div class="col s12 m6 l3"></div>\n                <div class="col s12 m6 l3"></div>\n                <div class="col s12 m6 l3"></div>\n            </div><!-- Page Content goes here -->\n            <div class="row">\n                <div class="col s12 m4 l2">\n                </div>\n                <div class="col s12 m4 l8">\n                    <div class="center-align">\n                        <i class="material-icons category-icons" style="background: url(\'images/icons/icons8-' +
                ((__t = ( question.icon )) == null ? '' : __t) +
                '-Filled-50.png\')"/>\n                    </div>\n                    <h4>' +
                ((__t = ( question.question )) == null ? '' : __t) +
                '</h4>\n\n                    <form action="#" class="questionnaire-answers">\n                        ';
            _.each(question.answers, function(answer, i) { ;
                __p += '\n                        <p>\n                            <input class="with-gap" name="question-' +
                    ((__t = ( question.numeric_num )) == null ? '' : __t) +
                    '" type="radio" id="question-' +
                    ((__t = ( question.numeric_num )) == null ? '' : __t) +
                    '-answer-' +
                    ((__t = ( i )) == null ? '' : __t) +
                    '" value="' +
                    ((__t = ( answer )) == null ? '' : __t) +
                    '-' +
                    ((__t = ( question.category )) == null ? '' : __t) +
                    '" data-id="' +
                    ((__t = ( question.category )) == null ? '' : __t) +
                    '"/>\n                            <label for="question-' +
                    ((__t = ( question.numeric_num )) == null ? '' : __t) +
                    '-answer-' +
                    ((__t = ( i )) == null ? '' : __t) +
                    '">' +
                    ((__t = ( answer )) == null ? '' : __t) +
                    '</label>\n                        </p>\n                        ';
            }) ;
            __p += '\n                    </form>\n                </div>\n                <div class="col s12 m4 l2"></div>\n            </div>\n            <div class="row">\n                <div class="col m6 left-align">\n                    <a class="waves-effect waves-light btn onepebble-primary previous' +
                ((__t = ( question.numeric_num === 1 ? ' disabled' : '' )) == null ? '' : __t) +
                '">Previous</a>\n                </div>\n                <div class="col s12 m6 right-align' +
                ((__t = ( question.numeric_num !== questions.length ? '' : ' submit-container' )) == null ? '' : __t) +
                '">\n                    ';
            if (question.numeric_num !== questions.length) { ;
                __p += '\n                        <a class="waves-effect waves-light btn onepebble-primary next" data-id="indeterminate-' +
                    ((__t = ( question.category )) == null ? '' : __t) +
                    '">Next</a>\n                    ';
            } else { ;
                __p += '\n                        <a class="waves-effect waves-light btn onepebble-highlight submit" data-id="indeterminate-' +
                    ((__t = ( question.category )) == null ? '' : __t) +
                    '">Submit</a>\n                    ';
            } ;
            __p += '\n                </div>\n            </div><!-- Page Content goes here -->\n        </div>\n    ';
        }) ;
        __p += '\n</div>';

    }
    return __p
};

this["JST"]["app/scripts/templates/search.ejs"] = function(obj) {
    obj || (obj = {});
    var __t, __p = '', __e = _.escape, __j = Array.prototype.join;
    function print() { __p += __j.call(arguments, '') }
    with (obj) {
        __p += '<!-- JST data.enableBrand -->\n';
        if(enableBrand) { ;
            __p += '\n<a href="/" class="brand-logo waves-effect waves-light btn"><img width="120" src="/images/OnePebble_Logo-white-horizontal.png" alt="One Pebble" class="logo" style="    margin: 20px 0 0 0"></a>\n';
        } ;
        __p += '\n\n<div data-activates="slide-out" class="button-collapse closed ' +
            ((__t = ( enableBrand ? 'brand' : 'no-brand' )) == null ? '' : __t) +
            '">\n    <i class="material-icons menu">menu</i>\n</div>\n\n<!-- JST data.enableBrand -->\n<form class="' +
            ((__t = ( enableBrand ? 'brand' : 'no-brand' )) == null ? '' : __t) +
            '" autocomplete="off">\n    <div class="input-field">\n        <input id="search" class="autocomplete" autocomplete="off" type="search" placeholder="Test another fund" required>\n        <label class="label-icon" for="search"><i class="material-icons">search</i></label>\n        <i class="material-icons close">close</i>\n    </div>\n</form>\n';

    }
    return __p
},OnePebbleApp.Models=OnePebbleApp.Models||{},function(){"use strict";OnePebbleApp.Models.Search=Backbone.Model.extend({initialize:function(){},defaults:{_id:""},validate:function(a,b){},parse:function(a,b){return console.log("parse",a),a}})}(),OnePebbleApp.Models=OnePebbleApp.Models||{},function(){"use strict";OnePebbleApp.Models.Fund=Backbone.Model.extend({initialize:function(){},url:function(){return"fund/"+this.get("ticker")},defaults:{_id:"",productId:"",fund:"",ticker:"",inceptionDate:"",launchDate:"",hasSegmentReport:"",genericReport:"",hasReport:"",fundsInSegment:"",economicDevelopment:"",totalRows:"",fundBasics:{issuer:"",expenseRatio:{value:""},aum:{value:""},spreadPct:{value:""},segment:""},performance:{priceTrAsOf:"",priceTr1MopriceTr1Mo:{value:""},priceTr3Mo:{value:""},priceTr1Yr:{value:""},priceTr3YrAnnualized:{value:""},priceTr5YrAnnualized:{value:""},priceTr10YrAnnualized:{value:""}},analysis:{analystPick:"",opportunitiesList:"",letterGrade:"",efficiencyScore:"",tradabilityScore:"",fitScore:"",leveragedFactor:"",exposureReset:"",avgDailyDollarVolume:"",avgDailyShareVolume:"",spread:{value:""},fundClosureRisk:""},fundamentals:{dividendYield:{value:""},equity:{pe:"",pb:""},fixedIncome:{duration:"",creditQuality:"",ytm:{value:""}}},classification:{assetClass:"",strategy:"",region:"",geography:"",category:"",focus:"",niche:"",inverse:"",leveraged:"",etn:"",selectionCriteria:"",weightingScheme:"",activePerSec:"",underlyingIndex:"",indexProvider:"",brand:""},tax:{legalStructure:"",maxLtCapitalGainsRate:"",maxStCapitalGainsRate:"",taxReporting:""},msciEsg:{msciEsgQualityScore:"",msciEsgQualityScorePctlPeer:"",msciEsgQualityScorePctlGlobal:"",msciWeightedAvgCarbonInten:"",msciSustainableImpactPct:"",msciSriExclusionCriteriaPct:"",msciEsgHasBadge:""},companies:[],companyAllocation:[],gunStocks:[],sinStocks:{}},parse:function(a){return this.set({_id:a._id,productId:a.productId,fund:a.fund,ticker:a.ticker,inceptionDate:a.inceptionDate,launchDate:a.launchDate,hasSegmentReport:a.hasSegmentReport,genericReport:a.genericReport,hasReport:a.hasReport,fundsInSegment:a.fundsInSegment,economicDevelopment:a.economicDevelopment,totalRows:a.totalRows,fundBasics:a.fundBasics,performance:a.performance,analysis:a.analysis,fundamentals:a.fundamentals,classification:a.classification,tax:a.tax,msciEsg:a.msciEsg,companies:a.companies,companyAllocation:a.companyAllocation,gunStocks:a.gunStocks,categoryData:a.categoryData,sinStocks:a.sinStocks}),a}})}(),OnePebbleApp.Collections=OnePebbleApp.Collections||{},function(){"use strict";OnePebbleApp.Collections.Searches=Backbone.Collection.extend({url:"/search/",model:OnePebbleApp.Models.Search})}(),OnePebbleApp.Collections=OnePebbleApp.Collections||{},function(){"use strict";OnePebbleApp.Collections.Funds=Backbone.Collection.extend({initialize:function(a){this.ticker=a},url:function(){var a="/funds/";return a},model:OnePebbleApp.Models.Fund})}(),OnePebbleApp.Views=OnePebbleApp.Views||{},function(){"use strict";OnePebbleApp.Views.Login=Backbone.View.extend({template:JST["app/scripts/templates/login.ejs"],tagName:"form",className:"",ENTER_KEY:13,events:{keyup:"enterPassword","click .password-enter":"enterPassword","submit form":"enterPassword"},enterPassword:function(a){$("#password").removeClass("invalid"),$(".password .op-input").removeClass("shake");var b=$(a.target),c=a.which===this.ENTER_KEY;a.preventDefault(),(c||b.hasClass("password-enter"))&&this.passwordValidate(a)},passwordValidate:function(a){var b=($(a.target),$("#password").val());b&&b.trim().length>0?this.doPasswordCheck(b):a.preventDefault()},doPasswordCheck:function(a){"wegivehope"===a.toLocaleString()?(this.setAuthCookie(),this.goToNext()):($("#password").addClass("invalid").val(""),$(".password .op-input").addClass("shake"))},setAuthCookie:function(){var a=new Date,b=90,c=60*b*1e3;a.setTime(a.getTime()+c),setTimeout(_.bind(this.timerExpiration,this),c),Cookies.set("OPAuth",!0,{expires:a})},insertParam:function(a,b){a=encodeURI(a),b=encodeURI(b);for(var c,d=document.location.search.substr(1).split("&"),e=d.length;e--;)if(c=d[e].split("="),c[0]==a){c[1]=b,d[e]=c.join("=");break}return 0>e&&(d[d.length]=[a,b].join("=")),d.join("&")},timerExpiration:function(){console.log("cookie expired"),Backbone.history.navigate("/",{trigger:!0})},goToNext:function(){Backbone.history.navigate("#questionnaire/?guns=indeterminate&tobacco=indeterminate&pornography=indeterminate&fossil=indeterminate&alcohol=indeterminate&gambling=indeterminate",{trigger:!0}),this.remove()},getQueryParams:function(a){var b=window.location.search;return b=a?b.split("?")&&b.split("?")[1]:b},parseQueryString:function(a){var b={},c=this.getQueryParams(!0),d=a||c;return d&&_.each(_.map(decodeURI(d).split(/&/g),function(a,b){var c=a.split("="),d={};if(c.length>=1){var e=void 0;2==c.length&&(e=c[1]),d[c[0]]=e}return d}),function(a){_.extend(b,a)}),b},initialize:function(){},render:function(){return this.$el.html(this.template({enableBrand:this.enableBrand})),this.trigger("render","render done!"),$(".category-animation").wodry({animation:"rotateX",delay:1e3,animationDuration:800}).show(),$(".no-category-animation").hide(),this},clear:function(){$("input.autocomplete").val(""),this.hideDD()},remove:function(){this.undelegateEvents()}})}(),OnePebbleApp.Views=OnePebbleApp.Views||{},function(){"use strict";OnePebbleApp.Views.Questions=Backbone.View.extend({template:JST["app/scripts/templates/questions.ejs"],tagName:"div",className:"",events:{"click .next":"next","click .previous":"previous","click .exit":"exit","click .submit":"submit","click .questionnaire-answers input":"updatePreference"},goToFunds:function(a,b){b?Backbone.history.navigate("funds/all?"+b,{trigger:!0}):Backbone.history.navigate("funds/all",{trigger:!0})},goToLogin:function(a,b){Cookies.remove("OPAuth"),Backbone.history.navigate("/",{trigger:!0})},next:function(a){$(".carousel").carousel("next")},previous:function(){$(".carousel").carousel("prev")},exit:function(a){this.goToLogin(a)},submit:function(a){var b=document.location.href.split("?"),c=null;b.length>1&&(c=b[1]),this.goToFunds(a,c)},updatePreference:function(a){var b=$(a.target).val()||$(a.target).data("id"),c=b.split("-")[0],d=b.split("-")[1];this.insertParam(d,c)},initialize:function(a){this.question={number:a.question}},getQuestionData:function(){return[{number:"one",numeric_num:1,icon:"Gun",category:"guns-ammo",question:'I wish to <span class="bold">divest (exclude from my portfolio)</span> companies involved in the manufacturing or selling of <span class="bold">guns and/or ammo</span>.',answers:["yes","no"]},{number:"two",numeric_num:2,icon:"Smoking",category:"tobacco",question:'I wish to <span class="bold">divest (exclude from my portfolio)</span> companies involved in the manufacturing or selling of <span class="bold">tobacco</span>.',answers:["yes","no"]},{number:"three",numeric_num:3,icon:"Porn-Folder",category:"pornography",question:'I wish to <span class="bold">divest (exclude from my portfolio)</span> companies involved in the production or selling of <span class="bold">pornography</span>.',answers:["yes","no"]},{number:"four",numeric_num:4,icon:"Oil-Industry",category:"fossil",question:'I wish to <span class="bold">divest (exclude from my portfolio)</span> companies involved in the production or selling of <span class="bold">fossil fuel</span>.',answers:["yes","no"]},{number:"five",numeric_num:5,icon:"Beer",category:"alcohol",question:'I wish to <span class="bold">divest (exclude from my portfolio)</span> companies involved in the production or selling of <span class="bold">alcohol</span>.',answers:["yes","no"]},{number:"six",numeric_num:6,icon:"Slot-Machine",category:"gambling",question:'I wish to <span class="bold">divest (exclude from my portfolio)</span> companies involved in the production or selling of <span class="bold">gambling</span>.',answers:["yes","no"]}]},render:function(){return this.$el.html(this.template({questions:this.getQuestionData()})),$("main").html(this.$el.html()),Vel.State.isMobile?(document.getElementsByTagName("body")[0].classList.add("mobile"),$("#questionnaire").removeClass("carousel").removeClass(" carousel-slider")):$(".carousel.carousel-slider").carousel({fullWidth:!0}),this.trigger("render","render done!"),this},toggleAnimation:function(){$(".active").fadeIn("fast"),$(".carousel-item:not(.active)").fadeOut("fast")},updateProgressBar:function(){},tooltip:function(){$(".tip").tipr()},remove:function(){this.undelegateEvents()},insertParam:function(a,b){var c,d,e=document.location.href.split("?"),f=[],a=encodeURI(a),b=encodeURI(b);for(e.length>1&&(f=e[1].split("&")),d=f.length;d--;)if(c=f[d].split("="),c[0]==a){c[1]=b,f[d]=c.join("=");break}0>d&&(f[f.length]=[a,b].join("=")),document.location.href=e[0]+"?"+f.join("&")}})}(),OnePebbleApp.Views=OnePebbleApp.Views||{},function(){"use strict";OnePebbleApp.Views.Search=Backbone.View.extend({template:JST["app/scripts/templates/search.ejs"],tagName:"form",collection:new OnePebbleApp.Collections.Searches,className:"",ENTER_KEY:13,events:{keyup:"keyAction","click .close":"clearSearch"},cachedTickers:{},keyAction:function(a){this.showDD();var b=$(a.target);a.which===this.ENTER_KEY?(console.log("I hit enter!"),a&&a.target&&a.target.value&&this.goToFund(a.target.value)):b&&b.hasClass("autocomplete")&&b&&this.typeahead(b.val())},clickAction:function(a){this.getType(a);a&&this.goToFund()},getType:function(){for(var a in this.cachedTickers)if(this.cachedTickers.hasOwnProperty(a)&&this.cachedTickers[a].ticker===this.getSymbol())return console.log("type",this.cachedTickers[a].ticker+" - "+this.cachedTickers[a].type),this.cachedTickers[a].type},getSymbol:function(){var a=$(".autocomplete").val(),b=a.split(" - ");return 0!==b.length?b=b[0]:void 0},goToFund:function(){this.dimResults();var a=this.getSymbol();Backbone.history.navigate("fund/"+a,{trigger:!0})},goToFundList:function(){var a=this.getSymbol();Backbone.history.navigate("funds/company/"+a,{trigger:!0})},dimResults:function(){$(".cards-col").css({opacity:.5})},initialize:function(a){this.enableBrand=a.enableBrand},render:function(){return this.$el.html(this.template({enableBrand:this.enableBrand})),this.trigger("render","render done!"),this.typeahead(),this},typeahead:function(a){var b;window.fundArray&&(b=window.fundArray);var c=this;return a?void $.ajax({type:"GET",url:"/search/"+a,success:function(a){b||(b=a,_.extend(c.cachedTickers,a));for(var d={},e=0;e<b.length;e++)d[b[e].ticker+" - "+b[e].name]="/images/"+b[e].type+".png";$(".autocomplete-content:not(:last)").remove(),$("input.autocomplete").autocomplete({onAutocomplete:function(a){c.clickAction(a)},data:d,cacheable:!0,limit:30})}}):!1},clearSearch:function(){$("input.autocomplete").val(""),this.hideDD()},showDD:function(){$(".dropdown-content").show()},hideDD:function(){$(".dropdown-content").hide()},remove:function(){this.undelegateEvents()}})}(),OnePebbleApp.Views=OnePebbleApp.Views||{},function(){"use strict";OnePebbleApp.Views.Fund=Backbone.View.extend({template:JST["app/scripts/templates/fund.ejs"],tagName:"div",model:OnePebbleApp.Models.Fund,collection:OnePebbleApp.Collections.Funds,className:"",events:{dblclick:"clickit","click .card":"goToFund","click .see-alt-funds":"goToFunds"},goToFund:function(a){var b=this.getTicker(a);if(!b)return!1;var c=document.location.href.split("?"),d=c[1]?"?"+c[1]:"";Backbone.history.navigate("fund/"+b+d,{trigger:!0})},goToFunds:function(a){var b=document.location.href.split("?"),c=b[1]?"?"+b[1]:"";Backbone.history.navigate("funds/all"+c,{trigger:!0})},getTicker:function(a){var b=a&&$(a.currentTarget).data("id");if(!b){var c=window.location.href.split("#fund/");b=c&&c[1],b=b.split("?")[0]}return b},initialize:function(a){console.log(a.id),this.model=new this.model({ticker:a.id}),this.model.fetch({beforeSend:function(a){},reset:!0,data:{}}).done(function(a){}),this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.$el.on("click",this.clickit)},render:function(){return this.$el.html(this.template({iconSet:this.iconSet,ticker:this.getTicker(),fund:this.model.toJSON()})),$("main").html(this.$el.html()),$(window).scrollTop(0),this.typeahead(),this.tooltip(),Vel.State.isMobile?(document.getElementsByTagName("body")[0].classList.add("mobile"),$(".fund-detail-carousel").removeClass("carousel")):$(".fund-detail-carousel").carousel(),this.trigger("render","render done!"),this},tooltip:function(){$(".tip").tipr()},typeahead:function(){var a=new OnePebbleApp.Views.Search({el:$(".nav-wrapper"),enableBrand:!0});a.render()},iconSet:{"Taxable Money Market":"attach_money","Unknown Category":"battery_unknown","Nontraditional Bond":"multiline_chart","Retirement Target Portfolio":"pie_chart","U.S. Large Blend":"equalizer","U.S. Mid-Cap Blend":"insert_chart","U.S. Small Blend":"bubble_chart","Aggressive Allocation Portfolio":"trending_up","Foreign Large Growth":"multiline_chart","default":"pie_chart_outlined"},remove:function(){this.undelegateEvents()}})}(),OnePebbleApp.Views=OnePebbleApp.Views||{},function(){"use strict";OnePebbleApp.Views.Funds=Backbone.View.extend({template:JST["app/scripts/templates/funds.ejs"],tagName:"div",model:OnePebbleApp.Models.Fund,collection:OnePebbleApp.Collections.Funds,className:"",MENU_TOGGLED:!1,events:{"click .close":"clearSearch","click .card":"goToFund","click .sidenav-close":"closeNav","click .drag-target":"closeNav","click .closed":"openNav","click .ticker-container":"clickit","click .clear-all-filters":"clearAllFilters"},clearAllFilters:function(){var a=document.location.href.split("?");document.location.href=a[0]},openNav:function(a){$(a.target).hasClass("menu")&&(console.log("Open clicked"),$("#slide-out").show().addClass("open").removeClass("closed"),$(".button-collapse").sideNav("show"))},closeNav:function(){console.log("Close clicked"),$(".button-collapse").sideNav("hide"),$(".button-collapse").sideNav("destroy"),$("#slide-out").hide(),this.MENU_TOGGLED=!1},getTicker:function(a){var b=$(a.currentTarget).data("id");return b?b:!1},goToFund:function(a){var b=this.getTicker(a);if(!b)return!1;var c=document.location.href.split("?"),d=c[1]?"?"+c[1]:"";Backbone.history.navigate("fund/"+b+d,{trigger:!0})},getSinStocks:function(a){return this.model.getSinStocks(a)},getAllocations:function(a){return this.model.getAllocations(a)},getAllocationNumTotal:function(a){return this.model.getAllocationNumTotal(a)},getAllocationPercentTotal:function(a){return this.model.getAllocationPercentTotal(a)},getAUM:function(){return this.model.get("fundBasics").aum.value||null},getAUMFormated:function(){var a=this.getAUM();return a?this.model.getFormated(a):"fund "},initialize:function(a){var b=arguments[0].id;if(this.qp=document.location.href.split("?")[1]||null,a instanceof this.collection)this.collection=a;else{this.collection=new this.collection(b),this.collection.params=a.params;var c=$.param(a.params);this.collection.fetch({beforeSend:function(a){},reset:!0,data:c,complete:function(){}})}this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render)},render:function(){return this.$el.html(this.template({funds:this.collection.toJSON(),searchId:this.id,filter:this.collection.params,companyName:window.company,iconSet:this.iconSet})),$("main").html(this.$el.html()),0===Object.keys(this.collection.params).length&&$(window).scrollTop(0),this.typeahead(),this.selectInit(),this.filter(this.collection.params),this.trigger("render","render done!"),$(".button-collapse").sideNav({menuWidth:300,edge:"left"}),this.unDimResults(),this},selectInit:function(){var a=$("#category-dd"),b=$("#focus-dd"),c=$("#niche-dd"),d=$("#brand-dd"),e=$("#guns-check"),f=$("#gambling-check"),g=$("#porn-check"),h=$("#tobacco-check"),i=$("#ff-check"),j=$("#alcohol-check"),k=this;a.material_select();var l=document.location.href.split("?"),m=l[1]?this.parseQueryString(l[1]):null;m&&(m.category&&a.val(m.category),m.focus&&b.val(m.focus),m.niche&&c.val(m.niche),m.brand&&d.val(m.brand),!m.guns||"no"!==m.guns&&"indeterminate"!==m.guns||(k.dimResults(),e.attr("checked","checked"),e.parent().addClass("checked")),!m.gambling||"no"!==m.gambling&&"indeterminate"!==m.gambling||(f.attr("checked","checked"),f.parent().addClass("checked")),!m.pornography||"no"!==m.pornography&&"indeterminate"!==m.pornography||(g.attr("checked","checked"),g.parent().addClass("checked")),!m.fossil||"no"!==m.fossil&&"indeterminate"!==m.fossil||(i.attr("checked","checked"),i.parent().addClass("checked")),!m.tobacco||"no"!==m.tobacco&&"indeterminate"!==m.tobacco||(h.attr("checked","checked"),h.parent().addClass("checked")),!m.alcohol||"no"!==m.alcohol&&"indeterminate"!==m.alcohol||(j.attr("checked","checked"),j.parent().addClass("checked"))),a.material_select(),b.material_select(),c.material_select(),d.material_select()},filterRangeMaxMin:{fundSize_min:0,fundSize_max:25e10,expense_min:0,expense_max:300,returns_min:-.0021,returns_max:.7802,dividend_min:0,dividend_max:.3106},setFilterRanges:function(a){var b={fundSize_min:a.fundSize_min||this.filterRangeMaxMin.fundSize_min,fundSize_max:a.fundSize_max||this.filterRangeMaxMin.fundSize_max,expense_min:a.expense_min||this.filterRangeMaxMin.expense_min,expense_max:a.expense_max||this.filterRangeMaxMin.expense_max,returns_min:a.returns_min||this.filterRangeMaxMin.returns_min,returns_max:a.returns_max||this.filterRangeMaxMin.returns_max,dividend_min:a.dividend_min||this.filterRangeMaxMin.dividend_min,dividend_max:a.dividend_max||this.filterRangeMaxMin.dividend_max};return b},filter:function(a){var b=$("#guns-check"),c=$("#gambling-check"),d=$("#porn-check"),e=$("#tobacco-check"),f=$("#ff-check"),g=$("#alcohol-check"),h=document.getElementById("fund-size-slider"),i=document.getElementById("category-dd"),j=document.getElementById("focus-dd"),k=document.getElementById("niche-dd"),l=document.getElementById("brand-dd"),m=document.getElementById("expense-slider"),n=document.getElementById("returns-slider"),o=document.getElementById("dividend-slider"),p=this,q=this.setFilterRanges(a),r=wNumb({mark:".",thousand:",",prefix:"$ "});noUiSlider.create(h,{start:[q.fundSize_min,q.fundSize_max],connect:!0,orientation:"horizontal",range:{min:0,"20%":11563499,"40%":61229739,"60%":252517086,"80%":1111881807,max:25e10},format:wNumb({decimals:2})});var s=[document.getElementById("fund-size-lower"),document.getElementById("fund-size-upper")];b.on("change",function(a){p.dimResults();var c=a.target.checked?"no":"yes";"no"===c?b.parent().addClass("checked"):b.parent().removeClass("checked"),p.filterResults([c],"guns",!1)}),c.on("change",function(a){p.dimResults();var b=a.target.checked?"no":"yes";"no"===b?c.parent().addClass("checked"):c.parent().removeClass("checked"),p.filterResults([b],"gambling",!1)}),d.on("change",function(a){p.dimResults();var b=a.target.checked?"no":"yes";"no"===b?d.parent().addClass("checked"):d.parent().removeClass("checked"),p.filterResults([b],"pornography",!1)}),f.on("change",function(a){p.dimResults();var b=a.target.checked?"no":"yes";"no"===b?f.parent().addClass("checked"):f.parent().removeClass("checked"),p.filterResults([b],"fossil",!1)}),e.on("change",function(a){p.dimResults();var b=a.target.checked?"no":"yes";"no"===b?e.parent().addClass("checked"):e.parent().removeClass("checked"),p.filterResults([b],"tobacco",!1)}),g.on("change",function(a){p.dimResults();var b=a.target.checked?"no":"yes";"no"===b?g.parent().addClass("checked"):g.parent().removeClass("checked"),p.filterResults([b],"alcohol",!1)}),h.noUiSlider.on("update",function(a,b){s[b].innerHTML=r.to(parseInt(a[b],10))}),h.noUiSlider.on("update",function(a){return a[0]==p.filterRangeMaxMin.fundSize_min&&a[1]==p.filterRangeMaxMin.fundSize_max?!1:(p.dimResults(),void p.filterResults(a,"fundSize",!0))}),$(i).on("change",function(a){p.dimResults(),p.filterResults([a.currentTarget.value],"category",!1)}),$(j).on("change",function(a){p.dimResults(),p.filterResults([a.currentTarget.value],"focus",!1)}),$(k).on("change",function(a){p.dimResults(),p.filterResults([a.currentTarget.value],"niche",!1)}),$(l).on("change",function(a){p.dimResults(),p.filterResults([a.currentTarget.value],"brand",!1)}),noUiSlider.create(m,{start:[q.expense_min,q.expense_max],connect:!0,orientation:"horizontal",range:{min:0,"20%":24,"40%":52,"60%":84,"80%":129,max:300},format:wNumb({decimals:2})});var t=[document.getElementById("expense-lower"),document.getElementById("expense-upper")];m.noUiSlider.on("update",function(a,b){t[b].innerHTML=parseInt(a[b],10)/100+"%"}),m.noUiSlider.on("update",function(a){return a[0]==p.filterRangeMaxMin.expense_min&&a[1]==p.filterRangeMaxMin.expense_max?!1:(p.dimResults(),void p.filterResults(a,"expense",!0))}),noUiSlider.create(n,{start:[q.returns_min,q.returns_max],connect:!0,orientation:"horizontal",range:{min:-.002097,"20%":.004831,"40%":.086794,"60%":.14432,"80%":.161686,max:.780195},format:wNumb({decimals:4})});var u=[document.getElementById("returns-lower"),document.getElementById("returns-upper")];n.noUiSlider.on("update",function(a,b){u[b].innerHTML=(100*a[b]).toFixed(2)+"%"}),n.noUiSlider.on("update",function(a){return a[0]==p.filterRangeMaxMin.returns_min&&a[1]==p.filterRangeMaxMin.returns_max?!1:(p.dimResults(),void p.filterResults(a,"returns",!0))}),noUiSlider.create(o,{start:[q.dividend_min,q.dividend_max],connect:!0,orientation:"horizontal",range:{min:0,"20%":.009238,"40%":.014383,"60%":.01965,"80%":.031227,max:.310594},format:wNumb({decimals:4})});var v=[document.getElementById("dividend-lower"),document.getElementById("dividend-upper")];o.noUiSlider.on("update",function(a,b){v[b].innerHTML=(100*a[b]).toFixed(2)+"%"}),o.noUiSlider.on("update",function(a){return a[0]==p.filterRangeMaxMin.dividend_min&&a[1]==p.filterRangeMaxMin.dividend_max?!1:(p.dimResults(),void p.filterResults(a,"dividend",!0))})},filterResults:_.debounce(function(a,b,c){var d,e,f,g={},h=document.location.href.split("?"),i=h[1]?this.parseQueryString(h[1]):null,j=this.setFilterRanges([]);if(!i){if(c&&j[b+"_min"].toFixed(4)===parseFloat(a[0]).toFixed(4)&&j[b+"_max"].toFixed(4)===parseFloat(a[1]).toFixed(4))return;if(j[b]===a[0])return}c?(g[b+"_min"]=a[0],g[b+"_max"]=a[1]):g[b]=a[0],_.each(g,function(a,b){d+=this.insertParam(b,a)},this),e=d.split("&"),e.shift(),d=e.join("&"),d=this.parseQueryString(d),i?(_.each(d,function(a,b){i[b]=d[b]},this),f=i):f=d,f=this.serializeQueryObject(f),document.location.href=h[0]+"?"+f},300),insertParam:function(a,b){a=encodeURI(a),b=encodeURI(b);for(var c,d=document.location.search.substr(1).split("&"),e=d.length;e--;)if(c=d[e].split("="),c[0]==a){c[1]=b,d[e]=c.join("=");break}return 0>e&&(d[d.length]=[a,b].join("=")),d.join("&")},iconSet:{"Taxable Money Market":"attach_money","Unknown Category":"battery_unknown","Nontraditional Bond":"multiline_chart","Retirement Target Portfolio":"pie_chart","U.S. Large Blend":"equalizer","U.S. Mid-Cap Blend":"insert_chart","U.S. Small Blend":"bubble_chart","Aggressive Allocation Portfolio":"trending_up","Foreign Large Growth":"multiline_chart","default":"pie_chart_outlined"},parseQueryString:function(a){var b={};return a&&_.each(_.map(decodeURI(a).split(/&/g),function(a,b){var c=a.split("="),d={};if(c.length>=1){var e=void 0;2==c.length&&(e=c[1]),d[c[0]]=e}return d}),function(a){_.extend(b,a)}),b},serializeQueryObject:function(a,b){var c,d=[];for(c in a)if(a.hasOwnProperty(c)){var e=b?b+"["+c+"]":c,f=a[c];d.push(null!==f&&"object"==typeof f?this.serializeQueryObject(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return d.join("&")},getParameterByName:function(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},typeahead:function(){var a=new OnePebbleApp.Views.Search({el:$(".nav-wrapper"),enableBrand:!1});a.render()},remove:function(){this.undelegateEvents()},dimResults:function(){$(".filter #spinner").show(),$(".cards-col").css({opacity:.5})},unDimResults:function(){$(".filter #spinner").hide(),$(".cards-col").css({opacity:1})}})}(),OnePebbleApp.Routers=OnePebbleApp.Routers||{},function(){"use strict";OnePebbleApp.Routers.All=Backbone.Router.extend({routes:{"":"home","#":"home","#login":"home","?*queryString":"home","#?*queryString":"home","fund/":"fund","search/":"search","fund/:id":"fund","funds/":"funds","funds/:id":"funds","funds/:id?*queryString":"funds","funds/company/:id?*queryString":"funds","funds/company/:id":"funds","questionnaire/":"questions","questionnaire/?*queryString":"questions"},initialize:function(){},validateAuth:function(){var a=Cookies.get("OPAuth");return a?(console.log("authenticated"),!0):(console.log("not authenticated"),!1)},home:function(){var a=new OnePebbleApp.Views.Login({el:$("main")});a.render()},questions:function(a){if(this.validateAuth()){if(0===$("#questionnaire").length){var b=new OnePebbleApp.Views.Questions({el:$("main")});b.render()}}else Backbone.history.navigate("/",{trigger:!0})},search:function(){if(!this.validateAuth())return Backbone.history.navigate("/",{trigger:!0}),!1;var a=new OnePebbleApp.Views.Search({el:$(".nav-wrapper")});a.render()},fund:function(a){if(!this.validateAuth())return Backbone.history.navigate("/",{trigger:!0}),!1;new OnePebbleApp.Views.Fund({id:a,el:$("body")})},funds:function(a,b){if(!this.validateAuth())return Backbone.history.navigate("/",{trigger:!0}),!1;var c=b?this.parseQueryString(b):"";new OnePebbleApp.Views.Funds({el:$("body"),id:a,params:c})},getQueryParams:function(a){var b=window.location.search;return b=a?b.split("?")&&b.split("?")[1]:b},parseQueryString:function(a){var b={},c=this.getQueryParams(!0),d=a||c;return d&&_.each(_.map(decodeURI(d).split(/&/g),function(a,b){var c=a.split("="),d={};if(c.length>=1){var e=void 0;2==c.length&&(e=c[1]),d[c[0]]=e}return d}),function(a){_.extend(b,a)}),b},showPosts:function(a,b){this.parseQueryString(b)},dimResults:function(){$(".cards-col").css({opacity:.5})}}),OnePebbleApp.Routers.Router=new OnePebbleApp.Routers.All,Backbone.history.start()}();